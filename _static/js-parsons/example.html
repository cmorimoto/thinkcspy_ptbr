<html>
    <head>
        <title>parsons</title>
		    <link rel="stylesheet" href="parsons.css"/>
        <link href="lib/prettify.css" type="text/css" rel="stylesheet" />
        <script src="lib/prettify.js"></script>
    </head>
    <body>
        <div id="sortableTrash" class="sortable-code"></div>
        <div id="sortable" class="sortable-code">
        </div>
		    <div style="clear:both;"></div>
        <p>
            <a href="#" id="newInstanceLink">New instance</a>
            <a href="#" id="feedbackLink">Get feedback</a>
        </p>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"></script>
    <script src="lib/underscore-min.js"></script>
    <script src="lib/lis.js"></script>
    <script src="parsons.js"></script>
    <script>
		var initial = 'def traverse_in_order(binary_node):\n' +
                  '  if binary_node:\n' +
					        '    foo\n' +
                  '  foo-1\n';
		var parson;

	function displayErrors(fb) {
	    if(fb.errors.length > 0) {
                alert(fb.errors[0]);
	    }
	} 

        $(document).ready(function(){
            parson = new ParsonsWidget({
                'sortableId': 'sortable',
		'trashId': 'sortableTrash',
                'max_wrong_lines': 1,
                'feedback_cb' : displayErrors
            });
        parson.init(initial);
			  parson.shuffleLines();
            $("#newInstanceLink").click(function(event){
                event.preventDefault();
                parson.shuffleLines();
            });
            $("#feedbackLink").click(function(event){
                event.preventDefault();
                parson.getFeedback();
            });
            
        });
    </script>
    </body>
</html>
